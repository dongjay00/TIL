# CSR vs. SSR

|              |                             SSR                              |                             CSR                              |
| :----------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| 초기로딩속도 |          CSR에 비해 다운 받는 파일이 많지 않아 빠름          |           모든 JS 파일을 다운 받아와야 하므로 느림           |
|  서버 부담   | 서버와 잦은 응답을 하므로(view가 바뀔 때 마다 계속 요청해야 한다.), 서버에 부담이 크다 | data 요청이 있을 때만 서버에 요청하므로, 서버에 부담이 덜하다. |
|     SEO      | HTML의 메타데이터가 처음부터 포함되어 있으므로, 데이터를 수집할 수 있다. |     맨 처음 HTML 파일이 비어있어, 데이터 수집이 어렵다.      |

- **CSR**

  - 처음 서버에 요청할 때 데이터 없는 문서를 반환
  - 모든 HTML 및 static 파일을 로드하고, 이후엔 사용자와의 상호작용에 따라 js를 통해 동적으로 rendering 한다. 만약 데이터를 필요로 한다면, 그 때만 서버에 요청해서 데이터를 받아와 rendering 한다.
  - **장점**
    - 첫 로딩에 모든 정적 파일을 불러오므로, 이후엔 js가 동적으로 빠르게 rendering 하기 때문에 사용자 경험(UX)가 향상된다.
    - 서버에 요청하는 횟수가 SSR에 비해 적어, 서버에 부담을 덜 준다.
  - **단점**
    - 모든 정적 파일을 불러와야 하므로, 초기 로딩 시간이 오래 걸린다.
      - 리소스를 Chunk(청크) 단위로 묶어서 요청할 때만 다운받는 방식으로 완화시킬 수는 있다.
    - SEO에 어려움이 있다.
      - 구글 엔진은 예외. 구글 검색엔진은 js까지 크롤링을 하기 때문이다.

- **SSR**

  - 완전하게 만들어진 HTML 파일을 반환하고 rendering 한다.

  - 새로운 페이지를 받아오기 위해서 서버에 계속 요청을 해야하고, 다시 완성된 HTML 파일을 받아온다. 그러므로 브라우저 새로고침이 항상 동반된다.

  - **장점**

    - 초기 로딩 속도가 빨라, 빠르게 정보를 확인할 수 있다.
    - SEO에 유리하다.

  - **단점**

    - 매번 페이지를 새로 요청해야 하므로, 새로고침이 일어나 UX가 다소 떨어진다.

    - 서버에 요청을 많이 해야 하므로, 서버 과부하 우려가 있다

      .

## SPA, MPA와의 관계

> - SPA(Single Page Application)
>   말 그대로 단 하나의 페이지로 이루어진 어플리케이션.
>   단 하나의 HTML 파일을 바탕으로 js를 이용해 동적으로 화면의 컨텐츠를 바꾸는 방식의 웹 어플리케이션이다.
> - MPA(Multiple Page Application)
>   화면 마다 HTML파일이 존재하고, 사용자가 그 화면을 요청할 때마다, 웹 서버가 필요한 데이터와 HTML로 파싱해서 보여주는 방식의 웹 어플리케이션이다.

흔히 빠질 수 있는 착각이 CSR == SPA, SSR == MPA 라고 생각하는 것이다. 하지만 개념 자체에 차이가 있다. SPA와 MPA는 페이지 갯수의 차이로 나눈 것이고, CSR과 SSR은 rendering을 어디에서 하느냐에 차이로 나눈 것이기 때문이다. 즉,  SPA를 위해 CSR이란 '방법'을 택한 것이고, MPA를 위해 SSR이란 '방법'을 택한 것이지, 둘이 같다 다르다를 비교할 수 있는 개념이 아닌 것이다.

- SPA에서도 SSR의 장점을 얻기 위한 방법은 존재한다. (SEO가 가장 큰 원인)
  - React에선 SSR 라이브러리로 Next.js가 도입되었다.
  - Vue에선 Nuxt.js가 도입되었다.